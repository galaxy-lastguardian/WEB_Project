{"ast":null,"code":"import $ from 'jquery';\n\nclass LastInfoPerson {\n  constructor(na, ph, em) {\n    this.na = na;\n    this.ph = ph;\n    this.em = em;\n  }\n\n}\n\n$(document).ready(function () {\n  if (localStorage.getItem('lastInfoPerson') != null) {\n    let data = localStorage.getItem('lastInfoPerson');\n    let info = JSON.parse(data);\n    document.form.name.value = info.na;\n    document.form.phone.value = info.ph;\n    document.form.email.value = info.em;\n  }\n});\n$(function () {\n  $(\".ajaxForm\").submit(function (e) {\n    e.preventDefault();\n    var href = $(this).attr(\"action\");\n    $.ajax({\n      type: \"POST\",\n      dataType: \"json\",\n      url: href,\n      data: $(this).serialize(),\n      success: function (response) {\n        if (response.status === \"success\") {\n          alert(\"Мы приняли вашу заявку, спасибо!\");\n        } else {\n          alert(\"Произошла ошибка: \" + response.message);\n        }\n      }\n    }); // -------LOCALSTORAGE------- //\n\n    let fNa = document.form.name.value;\n    let fPh = document.form.phone.value;\n    let fEm = document.form.email.value;\n    let lip = new LastInfoPerson(fNa, fPh, fEm);\n    localStorage.setItem('lastInfoPerson', JSON.stringify(lip));\n    document.form.comment.value = \"\";\n    document.form.checkbox.value = false; // -------____________------- //\n  });\n});","map":{"version":3,"sources":["D:/Repositories/MyWorkBRANCH_JsDima/src/javascript/form.js"],"names":["$","LastInfoPerson","constructor","na","ph","em","document","ready","localStorage","getItem","data","info","JSON","parse","form","name","value","phone","email","submit","e","preventDefault","href","attr","ajax","type","dataType","url","serialize","success","response","status","alert","message","fNa","fPh","fEm","lip","setItem","stringify","comment","checkbox"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;;AAEA,MAAMC,cAAN,CAAqB;AACjBC,EAAAA,WAAW,CAACC,EAAD,EAAKC,EAAL,EAASC,EAAT,EAAa;AACpB,SAAKF,EAAL,GAAUA,EAAV;AACA,SAAKC,EAAL,GAAUA,EAAV;AACA,SAAKC,EAAL,GAAUA,EAAV;AACH;;AALgB;;AAQrBL,CAAC,CAACM,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAY;AAC1B,MAAIC,YAAY,CAACC,OAAb,CAAqB,gBAArB,KAA0C,IAA9C,EAAoD;AAChD,QAAIC,IAAI,GAAGF,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAX;AACA,QAAIE,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWH,IAAX,CAAX;AAEAJ,IAAAA,QAAQ,CAACQ,IAAT,CAAcC,IAAd,CAAmBC,KAAnB,GAA2BL,IAAI,CAACR,EAAhC;AACAG,IAAAA,QAAQ,CAACQ,IAAT,CAAcG,KAAd,CAAoBD,KAApB,GAA4BL,IAAI,CAACP,EAAjC;AACAE,IAAAA,QAAQ,CAACQ,IAAT,CAAcI,KAAd,CAAoBF,KAApB,GAA4BL,IAAI,CAACN,EAAjC;AAEH;AACJ,CAVD;AAYAL,CAAC,CAAC,YAAU;AACRA,EAAAA,CAAC,CAAC,WAAD,CAAD,CAAemB,MAAf,CAAsB,UAASC,CAAT,EAAW;AAC7BA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIC,IAAI,GAAGtB,CAAC,CAAC,IAAD,CAAD,CAAQuB,IAAR,CAAa,QAAb,CAAX;AACAvB,IAAAA,CAAC,CAACwB,IAAF,CAAO;AACHC,MAAAA,IAAI,EAAE,MADH;AAEHC,MAAAA,QAAQ,EAAE,MAFP;AAGHC,MAAAA,GAAG,EAAEL,IAHF;AAIHZ,MAAAA,IAAI,EAAEV,CAAC,CAAC,IAAD,CAAD,CAAQ4B,SAAR,EAJH;AAKHC,MAAAA,OAAO,EAAE,UAASC,QAAT,EAAkB;AACvB,YAAGA,QAAQ,CAACC,MAAT,KAAoB,SAAvB,EAAiC;AAC7BC,UAAAA,KAAK,CAAC,kCAAD,CAAL;AACH,SAFD,MAEK;AACDA,UAAAA,KAAK,CAAC,uBAAuBF,QAAQ,CAACG,OAAjC,CAAL;AACH;AACJ;AAXE,KAAP,EAH6B,CAgB7B;;AAEA,QAAIC,GAAG,GAAG5B,QAAQ,CAACQ,IAAT,CAAcC,IAAd,CAAmBC,KAA7B;AACA,QAAImB,GAAG,GAAG7B,QAAQ,CAACQ,IAAT,CAAcG,KAAd,CAAoBD,KAA9B;AACA,QAAIoB,GAAG,GAAG9B,QAAQ,CAACQ,IAAT,CAAcI,KAAd,CAAoBF,KAA9B;AAEA,QAAIqB,GAAG,GAAG,IAAIpC,cAAJ,CAAmBiC,GAAnB,EAAwBC,GAAxB,EAA6BC,GAA7B,CAAV;AAEA5B,IAAAA,YAAY,CAAC8B,OAAb,CAAqB,gBAArB,EAAuC1B,IAAI,CAAC2B,SAAL,CAAeF,GAAf,CAAvC;AAEA/B,IAAAA,QAAQ,CAACQ,IAAT,CAAc0B,OAAd,CAAsBxB,KAAtB,GAA8B,EAA9B;AACAV,IAAAA,QAAQ,CAACQ,IAAT,CAAc2B,QAAd,CAAuBzB,KAAvB,GAA+B,KAA/B,CA3B6B,CA4B7B;AACH,GA7BD;AA8BH,CA/BA,CAAD","sourcesContent":["import $ from 'jquery';\r\n\r\nclass LastInfoPerson {\r\n    constructor(na, ph, em) {\r\n        this.na = na;\r\n        this.ph = ph;\r\n        this.em = em;\r\n    }\r\n}\r\n\r\n$(document).ready(function () {\r\n    if (localStorage.getItem('lastInfoPerson') != null) {\r\n        let data = localStorage.getItem('lastInfoPerson');\r\n        let info = JSON.parse(data);\r\n\r\n        document.form.name.value = info.na;\r\n        document.form.phone.value = info.ph;\r\n        document.form.email.value = info.em;\r\n\r\n    }\r\n});\r\n\r\n$(function(){\r\n    $(\".ajaxForm\").submit(function(e){\r\n        e.preventDefault();\r\n        var href = $(this).attr(\"action\");\r\n        $.ajax({\r\n            type: \"POST\",\r\n            dataType: \"json\",\r\n            url: href,\r\n            data: $(this).serialize(),\r\n            success: function(response){\r\n                if(response.status === \"success\"){\r\n                    alert(\"Мы приняли вашу заявку, спасибо!\");\r\n                }else{\r\n                    alert(\"Произошла ошибка: \" + response.message);\r\n                }\r\n            }\r\n        });\r\n        // -------LOCALSTORAGE------- //\r\n\r\n        let fNa = document.form.name.value;\r\n        let fPh = document.form.phone.value;\r\n        let fEm = document.form.email.value;\r\n\r\n        let lip = new LastInfoPerson(fNa, fPh, fEm);\r\n\r\n        localStorage.setItem('lastInfoPerson', JSON.stringify(lip));\r\n\r\n        document.form.comment.value = \"\";\r\n        document.form.checkbox.value = false;\r\n        // -------____________------- //\r\n    });\r\n});"]},"metadata":{},"sourceType":"module"}